# Device Configuration File
# This file contains device parameters, calibration data, and user preferences

# Hardware Configuration
hardware:
  # Photodiode/ADC Configuration
  photodiode:
    i2c_address: 0x48
    adc_channel: 0
    gain: 1
    sample_rate: 250
    calibration_file: null  # Path to calibration CSV file
    
  # Laser Configuration
  laser:
    laser_pin: 18
    interlock_pin: 23
    pwm_frequency: 1000
    pulse_duration: 0.001  # seconds
    
  # GPIO Configuration (Raspberry Pi)
  gpio:
    mode: "BCM"  # BCM or BOARD

# Signal Processing Configuration
signal_processing:
  # Filtering
  filter:
    type: "moving_average"  # moving_average, low_pass, remove_outliers
    window_size: 10
    cutoff: 0.1
    threshold: 3.0
  
  # Pattern Encoding
  encoding:
    default: "morse"  # morse, binary, geometric
    pulse_duration: 0.1  # seconds
    gap_duration: 0.1  # seconds
    morse_dot_duration: 0.1  # seconds
    morse_dash_duration: 0.3  # seconds

# Data Logging Configuration
logging:
  log_dir: "logs"
  max_history: 1000
  auto_start_session: true
  session_name_format: "%Y%m%d_%H%M%S"

# Calibration Data
# This section can be populated with actual calibration measurements
calibration:
  # Wavelength (nm) -> Voltage (V) mapping
  points:
    - wavelength: 400
      voltage: 0.1
    - wavelength: 470
      voltage: 0.3
    - wavelength: 530
      voltage: 0.5
    - wavelength: 590
      voltage: 0.7
    - wavelength: 650
      voltage: 0.9
    - wavelength: 700
      voltage: 1.1
    - wavelength: 850
      voltage: 1.5
    - wavelength: 950
      voltage: 1.8
    - wavelength: 1100
      voltage: 2.0
  
  # Dark voltage (measured with photodiode covered)
  dark_voltage: 0.0

# User Preferences
preferences:
  # Display
  update_rate: 1.0  # seconds
  show_voltage: true
  show_wavelength: true
  show_history: true
  history_length: 100
  
  # Safety
  require_interlock: true
  auto_disable_on_error: true
  emergency_stop_enabled: true
  
  # Default Values
  default_pattern_type: "morse"
  default_message: "SOS"

# Safety Configuration
safety:
  # Interlock
  interlock_required: true
  interlock_check_interval: 0.1  # seconds
  
  # Laser Power Limits
  max_power_mw: 1.0  # Class 1M limit
  power_verification_required: false
  
  # Operational Limits
  max_continuous_time: 3600  # seconds (1 hour)
  cooldown_time: 60  # seconds

# Advanced Settings
advanced:
  # Simulation Mode (for testing without hardware)
  simulation_mode: false
  
  # Debug Logging
  debug: false
  log_level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  
  # Performance
  measurement_thread: true
  gui_update_thread: true

